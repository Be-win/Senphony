<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensory Sketchpad - Musical Drawing for Everyone</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <meta name="description" content="An accessible digital drawing tool that transforms visual art into musical compositions for children">
</head>
<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="app-container">
        <!-- Header -->
        <header class="header" role="banner">
            <h1 class="app-title">üé® Sensory Sketchpad</h1>
            <div class="header-controls">
                <button id="gardenToggle" class="btn btn-secondary" aria-label="Toggle achievement garden">
                    üåª My Garden
                </button>
                <div class="volume-control">
                    <label for="volumeSlider" class="sr-only">Volume Control</label>
                    <input type="range" id="volumeSlider" min="0" max="100" value="70" aria-label="Volume">
                    <span class="volume-icon">üîä</span>
                </div>
            </div>
        </header>

        <!-- Main Content - New Layout -->
        <main id="main-content" class="main-content" role="main">
            <div class="workspace">
                <!-- Left Sidebar - Color Palette -->
                <aside class="sidebar" role="complementary">
                    <section class="color-palette" role="toolbar" aria-label="Musical color palette">
                        <h2 class="sr-only">Choose a musical color</h2>
                        <button class="color-btn active" data-color="#ff0080" data-note="C" aria-label="Pink - Musical note C" aria-pressed="true">
                            <span class="color-preview"></span>
                            <span class="note-label">C</span>
                        </button>
                        <button class="color-btn" data-color="#00ff80" data-note="D" aria-label="Green - Musical note D" aria-pressed="false">
                            <span class="color-preview"></span>
                            <span class="note-label">D</span>
                        </button>
                        <button class="color-btn" data-color="#8000ff" data-note="E" aria-label="Purple - Musical note E" aria-pressed="false">
                            <span class="color-preview"></span>
                            <span class="note-label">E</span>
                        </button>
                        <button class="color-btn" data-color="#ff8000" data-note="G" aria-label="Orange - Musical note G" aria-pressed="false">
                            <span class="color-preview"></span>
                            <span class="note-label">G</span>
                        </button>
                        <button class="color-btn" data-color="#00ffff" data-note="A" aria-label="Cyan - Musical note A" aria-pressed="false">
                            <span class="color-preview"></span>
                            <span class="note-label">A</span>
                        </button>
                        <button class="color-btn" data-color="#ffff00" data-note="C2" aria-label="Yellow - Musical note C (high)" aria-pressed="false">
                            <span class="color-preview"></span>
                            <span class="note-label">C</span>
                        </button>
                    </section>

                    <!-- Default Patterns -->
                    <section class="pattern-palette" role="toolbar" aria-label="Default music patterns">
                        <h2 class="sr-only">Try default music patterns</h2>
                        <div class="pattern-grid">
                            <button class="pattern-btn" data-pattern="ascending" aria-label="Ascending Melody - A gentle rising melody">
                                <span class="pattern-icon">‚ÜóÔ∏è</span>
                                <span class="pattern-name">Ascending</span>
                            </button>
                            <button class="pattern-btn" data-pattern="descending" aria-label="Descending Melody - A peaceful falling melody">
                                <span class="pattern-icon">‚ÜòÔ∏è</span>
                                <span class="pattern-name">Descending</span>
                            </button>
                            <button class="pattern-btn" data-pattern="wave" aria-label="Ocean Wave - A flowing wave pattern">
                                <span class="pattern-icon">üåä</span>
                                <span class="pattern-name">Wave</span>
                            </button>
                            <button class="pattern-btn" data-pattern="mountain" aria-label="Mountain Peak - A dramatic mountain shape">
                                <span class="pattern-icon">‚õ∞Ô∏è</span>
                                <span class="pattern-name">Mountain</span>
                            </button>
                            <button class="pattern-btn" data-pattern="spiral" aria-label="Spiral Dance - A swirling spiral pattern">
                                <span class="pattern-icon">üåÄ</span>
                                <span class="pattern-name">Spiral</span>
                            </button>
                        </div>
                    </section>
                </aside>

                <!-- Right Side - Canvas and Controls -->
                <div class="canvas-section">
                    <!-- Drawing Canvas -->
                    <section class="canvas-container">
                        <canvas id="drawingCanvas" width="800" height="600" aria-label="Drawing canvas - draw here to create music" tabindex="0"></canvas>
                        <div id="playhead" class="playhead" aria-hidden="true"></div>
                        <div class="canvas-overlay">
                            <div class="drawing-instructions" id="instructions">
                                Start drawing to create your musical masterpiece! üéµ<br>
                                Or try a default pattern to see how it works!
                            </div>
                        </div>
                    </section>

                    <!-- Controls -->
                    <section class="controls" role="toolbar" aria-label="Drawing controls">
                        <div class="brush-controls">
                            <h3 class="sr-only">Brush Tools</h3>
                            <button id="smoothBrush" class="btn btn-tool active" aria-label="Smooth brush tool" aria-pressed="true">
                                ‚úèÔ∏è Smooth
                            </button>
                            <button id="sparkleBrush" class="btn btn-tool" aria-label="Sparkle brush tool" aria-pressed="false">
                                ‚ú® Sparkle
                            </button>
                            <div class="brush-size-control">
                                <label for="brushSize" class="sr-only">Brush size</label>
                                <input type="range" id="brushSize" min="5" max="20" value="10" aria-label="Brush size">
                                <span class="size-label">Size</span>
                            </div>
                        </div>
                        
                        <div class="action-controls">
                            <button id="playButton" class="btn btn-primary" aria-label="Play your musical drawing">
                                ‚ñ∂Ô∏è Play My Song
                            </button>
                            <button id="clearButton" class="btn btn-danger" aria-label="Clear the canvas">
                                üóëÔ∏è Clear Canvas
                            </button>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- Achievement Garden -->
        <aside id="achievementGarden" class="achievement-garden hidden" role="complementary" aria-label="Achievement garden">
            <h2>üåª My Achievement Garden</h2>
            <div class="garden-grid">
                <div class="achievement" data-achievement="explorer">
                    <div class="achievement-icon">üé®</div>
                    <div class="achievement-info">
                        <h3>Explorer</h3>
                        <p>Draw your first stroke</p>
                    </div>
                </div>
                <div class="achievement" data-achievement="composer">
                    <div class="achievement-icon">üéµ</div>
                    <div class="achievement-info">
                        <h3>Composer</h3>
                        <p>Play your first song</p>
                    </div>
                </div>
                <div class="achievement" data-achievement="stargazer">
                    <div class="achievement-icon">‚≠ê</div>
                    <div class="achievement-info">
                        <h3>Stargazer</h3>
                        <p>Use all colors</p>
                    </div>
                </div>
                <div class="achievement" data-achievement="newbeginning">
                    <div class="achievement-icon">üå±</div>
                    <div class="achievement-info">
                        <h3>New Beginning</h3>
                        <p>Clear and start fresh</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Notifications -->
        <div id="notification" class="notification hidden" role="alert" aria-live="polite"></div>
    </div>

    <!-- Scripts -->
    <script src="src/js/utils.js"></script>
    <script src="src/js/audio.js"></script>
    <script src="src/js/achievements.js"></script>
    <script src="src/js/canvas.js"></script>
    <script src="src/js/app.js"></script>
</body>
</html>